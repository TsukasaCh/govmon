<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GovMon ‚Äî Jakarta Government VPS Monitoring</title>
  <meta name="description" content="Real-time monitoring dashboard for Pemprov DKI Jakarta VPS infrastructure">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="icon"
    href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üèõÔ∏è</text></svg>">
</head>

<body>
  <!-- Sidebar -->
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <div class="logo">
        <div class="logo-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 2L2 7l10 5 10-5-10-5z" />
            <path d="M2 17l10 5 10-5" />
            <path d="M2 12l10 5 10-5" />
          </svg>
        </div>
        <div class="logo-text">
          <h1>GovMon</h1>
          <span>VPS Monitoring</span>
        </div>
      </div>
    </div>

    <nav class="sidebar-nav">
      <a href="#/" class="nav-item active" data-page="dashboard">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="3" width="7" height="7" rx="1" />
          <rect x="14" y="3" width="7" height="7" rx="1" />
          <rect x="3" y="14" width="7" height="7" rx="1" />
          <rect x="14" y="14" width="7" height="7" rx="1" />
        </svg>
        <span>Dashboard</span>
      </a>
      <a href="#/servers" class="nav-item" data-page="servers">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="2" y="2" width="20" height="8" rx="2" />
          <rect x="2" y="14" width="20" height="8" rx="2" />
          <circle cx="6" cy="6" r="1" />
          <circle cx="6" cy="18" r="1" />
        </svg>
        <span>Server List</span>
      </a>
      <a href="#/alerts" class="nav-item" data-page="alerts">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" />
          <path d="M13.73 21a2 2 0 0 1-3.46 0" />
        </svg>
        <span>Alerts</span>
        <div class="nav-badge" id="alertBadge" style="display:none">0</div>
      </a>
      <a href="#/add" class="nav-item" data-page="add">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10" />
          <line x1="12" y1="8" x2="12" y2="16" />
          <line x1="8" y1="12" x2="16" y2="12" />
        </svg>
        <span>Add Server</span>
      </a>
    </nav>

    <div class="sidebar-footer">
      <div class="status-indicator">
        <div class="pulse-dot online"></div>
        <span>System Online</span>
      </div>
      <div class="sidebar-time" id="sidebarTime"></div>
    </div>
  </aside>

  <!-- Mobile Header -->
  <header class="mobile-header" id="mobileHeader">
    <button class="menu-toggle" id="menuToggle" aria-label="Toggle menu">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="3" y1="6" x2="21" y2="6" />
        <line x1="3" y1="12" x2="21" y2="12" />
        <line x1="3" y1="18" x2="21" y2="18" />
      </svg>
    </button>
    <div class="mobile-logo">
      <span class="logo-icon-sm">üèõÔ∏è</span>
      <span>GovMon</span>
    </div>
    <div class="mobile-status">
      <div class="pulse-dot online"></div>
    </div>
  </header>

  <!-- Overlay for mobile sidebar -->
  <div class="sidebar-overlay" id="sidebarOverlay"></div>

  <!-- Main Content -->
  <main class="main-content" id="mainContent">
    <!-- Dashboard Page -->
    <div class="page active" id="page-dashboard">
      <!-- Top Bar -->
      <div class="page-header">
        <div class="page-title">
          <h2>Dashboard Overview</h2>
          <p>Monitoring IP internal Pemprov DKI Jakarta</p>
        </div>
        <div class="header-actions">
          <div class="search-box">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8" />
              <line x1="21" y1="21" x2="16.65" y2="16.65" />
            </svg>
            <input type="text" id="globalSearch" placeholder="Search VPS..." autocomplete="off">
          </div>
          <div class="last-update" id="lastUpdate">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10" />
              <polyline points="12 6 12 12 16 14" />
            </svg>
            <span>Just now</span>
          </div>
        </div>
      </div>

      <!-- Stats Cards -->
      <div class="stats-grid" id="statsGrid">
        <div class="stat-card stat-total">
          <div class="stat-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="2" y="2" width="20" height="8" rx="2" />
              <rect x="2" y="14" width="20" height="8" rx="2" />
              <circle cx="6" cy="6" r="1" />
              <circle cx="6" cy="18" r="1" />
            </svg>
          </div>
          <div class="stat-info">
            <span class="stat-value" id="statTotal">-</span>
            <span class="stat-label">Total VPS</span>
          </div>
        </div>
        <div class="stat-card stat-online">
          <div class="stat-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" />
              <polyline points="22 4 12 14.01 9 11.01" />
            </svg>
          </div>
          <div class="stat-info">
            <span class="stat-value" id="statOnline">-</span>
            <span class="stat-label">Online</span>
          </div>
        </div>
        <div class="stat-card stat-warning">
          <div class="stat-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z" />
              <line x1="12" y1="9" x2="12" y2="13" />
              <line x1="12" y1="17" x2="12.01" y2="17" />
            </svg>
          </div>
          <div class="stat-info">
            <span class="stat-value" id="statWarning">-</span>
            <span class="stat-label">Warning</span>
          </div>
        </div>
        <div class="stat-card stat-offline">
          <div class="stat-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10" />
              <line x1="15" y1="9" x2="9" y2="15" />
              <line x1="9" y1="9" x2="15" y2="15" />
            </svg>
          </div>
          <div class="stat-info">
            <span class="stat-value" id="statOffline">-</span>
            <span class="stat-label">Offline</span>
          </div>
        </div>
        <div class="stat-card stat-cpu">
          <div class="stat-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="4" y="4" width="16" height="16" rx="2" />
              <rect x="9" y="9" width="6" height="6" />
              <line x1="9" y1="1" x2="9" y2="4" />
              <line x1="15" y1="1" x2="15" y2="4" />
              <line x1="9" y1="20" x2="9" y2="23" />
              <line x1="15" y1="20" x2="15" y2="23" />
              <line x1="20" y1="9" x2="23" y2="9" />
              <line x1="20" y1="14" x2="23" y2="14" />
              <line x1="1" y1="9" x2="4" y2="9" />
              <line x1="1" y1="14" x2="4" y2="14" />
            </svg>
          </div>
          <div class="stat-info">
            <span class="stat-value" id="statCpu">-</span>
            <span class="stat-label">Avg CPU</span>
          </div>
        </div>
        <div class="stat-card stat-bandwidth">
          <div class="stat-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="22 12 18 12 15 21 9 3 6 12 2 12" />
            </svg>
          </div>
          <div class="stat-info">
            <span class="stat-value" id="statBandwidth">-</span>
            <span class="stat-label">Bandwidth</span>
          </div>
        </div>
      </div>

      <!-- Charts Row -->
      <div class="charts-row">
        <div class="chart-card">
          <div class="chart-header">
            <h3>Status Distribution</h3>
          </div>
          <div class="chart-body">
            <canvas id="statusChart" width="300" height="200"></canvas>
          </div>
        </div>
        <div class="chart-card chart-card-wide">
          <div class="chart-header">
            <h3>Distribusi OPD</h3>
          </div>
          <div class="chart-body">
            <div class="ministry-bars" id="ministryBars"></div>
          </div>
        </div>
      </div>

      <!-- VPS Grid -->
      <div class="section-header">
        <h3>Server Overview</h3>
        <div class="filter-group">
          <select id="filterStatus" class="filter-select">
            <option value="">All Status</option>
            <option value="online">Online</option>
            <option value="warning">Warning</option>
            <option value="offline">Offline</option>
            <option value="maintenance">Maintenance</option>
          </select>
          <select id="filterGroup" class="filter-select">
            <option value="">All Groups</option>
          </select>
          <select id="filterType" class="filter-select">
            <option value="">All Types</option>
            <option value="agent">Agent</option>
            <option value="agentless">Agentless</option>
          </select>
          <button class="view-toggle" id="viewToggle" title="Toggle view">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="3" width="7" height="7" />
              <rect x="14" y="3" width="7" height="7" />
              <rect x="3" y="14" width="7" height="7" />
              <rect x="14" y="14" width="7" height="7" />
            </svg>
          </button>
        </div>
      </div>
      <div class="vps-grid" id="vpsGrid"></div>
      <div class="pagination" id="pagination"></div>
    </div>

    <!-- Server Detail Page -->
    <div class="page" id="page-detail">
      <div class="page-header">
        <button class="btn-back" id="btnBack">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="19" y1="12" x2="5" y2="12" />
            <polyline points="12 19 5 12 12 5" />
          </svg>
          Back
        </button>
        <div class="page-title">
          <h2 id="detailHostname">-</h2>
          <p id="detailSubtitle">-</p>
        </div>
        <div class="header-actions" style="display:flex;gap:8px;align-items:center">
          <button class="btn-action edit" id="btnEditServer" title="Edit Server"
            style="background:rgba(0,212,255,0.15);border:1px solid rgba(0,212,255,0.3);color:#00d4ff;padding:8px 14px;border-radius:8px;cursor:pointer;font-size:13px;display:flex;align-items:center;gap:6px">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" />
              <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" />
            </svg>
            Edit
          </button>
          <button class="btn-action delete" id="btnDeleteServer" title="Delete Server"
            style="background:rgba(255,71,87,0.15);border:1px solid rgba(255,71,87,0.3);color:#ff4757;padding:8px 14px;border-radius:8px;cursor:pointer;font-size:13px;display:flex;align-items:center;gap:6px">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="3 6 5 6 21 6" />
              <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
            </svg>
            Delete
          </button>
          <span class="status-badge" id="detailStatus">-</span>
        </div>
      </div>

      <!-- Edit Modal -->
      <div class="modal-overlay" id="editModal" style="display:none">
        <div class="modal-content" style="max-width:480px">
          <h3 style="margin-bottom:16px">‚úèÔ∏è Edit Server</h3>
          <div class="form-grid" style="gap:12px">
            <div class="form-group">
              <label>Hostname</label>
              <input type="text" id="editHostname">
            </div>
            <div class="form-group">
              <label>IP Address</label>
              <input type="text" id="editIP">
            </div>
            <div class="form-group">
              <label>Location</label>
              <input type="text" id="editLocation">
            </div>
            <div class="form-group">
              <label>OPD / Dinas</label>
              <input type="text" id="editGroup">
            </div>
          </div>
          <div style="display:flex;gap:8px;margin-top:20px;justify-content:flex-end">
            <button class="btn-primary"
              style="background:transparent;border:1px solid var(--border);color:var(--text-secondary)"
              onclick="document.getElementById('editModal').style.display='none'">Batal</button>
            <button class="btn-primary" id="btnSaveEdit">Simpan</button>
          </div>
        </div>
      </div>

      <!-- Delete Confirm Modal -->
      <div class="modal-overlay" id="deleteModal" style="display:none">
        <div class="modal-content" style="max-width:400px;text-align:center">
          <div style="font-size:48px;margin-bottom:12px">‚ö†Ô∏è</div>
          <h3 style="margin-bottom:8px">Hapus Server?</h3>
          <p style="color:var(--text-muted);margin-bottom:20px" id="deleteMsg">Server ini akan dihapus permanen beserta
            seluruh data metrik dan alert-nya.</p>
          <div style="display:flex;gap:8px;justify-content:center">
            <button class="btn-primary"
              style="background:transparent;border:1px solid var(--border);color:var(--text-secondary)"
              onclick="document.getElementById('deleteModal').style.display='none'">Batal</button>
            <button class="btn-primary" style="background:#ff4757" id="btnConfirmDelete">Ya, Hapus</button>
          </div>
        </div>
      </div>

      <!-- Detail Stats -->
      <div class="detail-stats" id="detailStats">
        <div class="detail-stat-card">
          <div class="detail-stat-label">CPU Usage</div>
          <div class="detail-stat-value" id="detailCpu">0%</div>
          <div class="detail-stat-bar">
            <div class="bar-fill cpu-fill" id="detailCpuBar" style="width:0%"></div>
          </div>
        </div>
        <div class="detail-stat-card">
          <div class="detail-stat-label">Memory</div>
          <div class="detail-stat-value" id="detailMem">0%</div>
          <div class="detail-stat-bar">
            <div class="bar-fill mem-fill" id="detailMemBar" style="width:0%"></div>
          </div>
        </div>
        <div class="detail-stat-card">
          <div class="detail-stat-label">Disk</div>
          <div class="detail-stat-value" id="detailDisk">0%</div>
          <div class="detail-stat-bar">
            <div class="bar-fill disk-fill" id="detailDiskBar" style="width:0%"></div>
          </div>
        </div>
        <div class="detail-stat-card">
          <div class="detail-stat-label">Network In</div>
          <div class="detail-stat-value" id="detailNetIn">0 KB/s</div>
          <div class="detail-stat-sub">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-sm">
              <polyline points="17 1 21 5 17 9" />
              <path d="M3 11V9a4 4 0 0 1 4-4h14" />
            </svg>
            <span>Inbound</span>
          </div>
        </div>
        <div class="detail-stat-card">
          <div class="detail-stat-label">Network Out</div>
          <div class="detail-stat-value" id="detailNetOut">0 KB/s</div>
          <div class="detail-stat-sub">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-sm">
              <polyline points="7 23 3 19 7 15" />
              <path d="M21 13v2a4 4 0 0 1-4 4H3" />
            </svg>
            <span>Outbound</span>
          </div>
        </div>
        <div class="detail-stat-card">
          <div class="detail-stat-label">Uptime</div>
          <div class="detail-stat-value" id="detailUptime">-</div>
          <div class="detail-stat-sub">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-sm">
              <circle cx="12" cy="12" r="10" />
              <polyline points="12 6 12 12 16 14" />
            </svg>
            <span>Duration</span>
          </div>
        </div>
      </div>

      <!-- Charts -->
      <div class="charts-row">
        <div class="chart-card">
          <div class="chart-header">
            <h3>CPU Usage History</h3>
          </div>
          <div class="chart-body"><canvas id="cpuChart" width="500" height="220"></canvas></div>
        </div>
        <div class="chart-card">
          <div class="chart-header">
            <h3>Bandwidth History</h3>
          </div>
          <div class="chart-body"><canvas id="bandwidthChart" width="500" height="220"></canvas></div>
        </div>
      </div>

      <!-- Server Info + Processes -->
      <div class="charts-row">
        <div class="chart-card">
          <div class="chart-header">
            <h3>Server Information</h3>
          </div>
          <div class="chart-body">
            <div class="info-grid" id="serverInfo"></div>
          </div>
        </div>
        <div class="chart-card chart-card-wide" id="processCard">
          <div class="chart-header">
            <h3>Top Processes</h3>
          </div>
          <div class="chart-body">
            <table class="process-table" id="processTable">
              <thead>
                <tr>
                  <th>PID</th>
                  <th>Process</th>
                  <th>User</th>
                  <th>CPU %</th>
                  <th>MEM %</th>
                  <th>Command</th>
                </tr>
              </thead>
              <tbody id="processBody"></tbody>
            </table>
          </div>
        </div>

        <!-- History Log (Agentless / HTTP / TCP) -->
        <div class="chart-card chart-card-wide" id="historyCard" style="display:none">
          <div class="chart-header">
            <h3>Monitor History (Last 30 Checks)</h3>
          </div>
          <div class="chart-body">
            <table class="process-table">
              <thead id="historyHeader"></thead>
              <tbody id="historyBody"></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- Servers List Page -->
    <div class="page" id="page-servers">
      <div class="page-header">
        <div class="page-title">
          <h2>All Servers</h2>
          <p>Daftar lengkap VPS yang dimonitor</p>
        </div>
        <div class="header-actions">
          <div class="search-box">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8" />
              <line x1="21" y1="21" x2="16.65" y2="16.65" />
            </svg>
            <input type="text" id="serverSearch" placeholder="Search servers..." autocomplete="off">
          </div>
        </div>
      </div>
      <div class="table-container">
        <table class="server-table" id="serverTable">
          <thead>
            <tr>
              <th>Status</th>
              <th>Hostname</th>
              <th>IP Address</th>
              <th>Group</th>
              <th>CPU</th>
              <th>Memory</th>
              <th>Network</th>
              <th>Type</th>
              <th>Last Seen</th>
            </tr>
          </thead>
          <tbody id="serverTableBody"></tbody>
        </table>
      </div>
      <div class="pagination" id="serverPagination"></div>
    </div>

    <!-- Alerts Page -->
    <div class="page" id="page-alerts">
      <div class="page-header">
        <div class="page-title">
          <h2>Active Alerts</h2>
          <p>System warnings and critical notifications</p>
        </div>
      </div>
      <div class="alerts-list" id="alertsList"></div>
    </div>

    <!-- Add Server Page -->
    <div class="page" id="page-add">
      <div class="page-header">
        <div class="page-title">
          <h2>Add New Server</h2>
          <p>Register a new VPS for monitoring</p>
        </div>
      </div>
      <div class="form-container">
        <form id="addServerForm" class="add-form">
          <div class="form-section">
            <h3>Server Details</h3>
            <div class="form-grid">
              <div class="form-group">
                <label for="addHostname">Hostname <span class="req">*</span></label>
                <input type="text" id="addHostname" placeholder="e.g. VPS-KEMENKEU-WEB-01" required>
              </div>
              <div class="form-group">
                <label for="addIP">IP Address <span class="req">*</span></label>
                <input type="text" id="addIP" placeholder="e.g. 10.10.1.100" required>
              </div>
              <div class="form-group">
                <label for="addLocation">Location</label>
                <input type="text" id="addLocation" placeholder="e.g. Jakarta" value="Jakarta">
              </div>
              <div class="form-group">
                <label for="addGroup">OPD / Dinas</label>
                <input type="text" id="addGroup" placeholder="e.g. Diskominfotik DKI Jakarta">
              </div>
            </div>
          </div>

          <div class="form-section">
            <h3>Monitoring Method</h3>
            <div class="method-cards" style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
              <label class="method-card active" id="methodAgent">
                <input type="radio" name="monitorType" value="agent" checked>
                <div class="method-icon">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 2a5 5 0 0 1 5 5v3H7V7a5 5 0 0 1 5-5z" />
                    <rect x="3" y="10" width="18" height="12" rx="2" />
                    <circle cx="12" cy="16" r="2" />
                  </svg>
                </div>
                <div class="method-info">
                  <strong>Agent Based</strong>
                  <small>Install lightweight agent. Real-time CPU, RAM, Disk monitoring.</small>
                </div>
              </label>
              <label class="method-card" id="methodAgentless">
                <input type="radio" name="monitorType" value="agentless">
                <div class="method-icon">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10" />
                    <path d="M2 12h3M19 12h3M12 2v3M12 19v3" />
                  </svg>
                </div>
                <div class="method-info">
                  <strong>ICMP Ping</strong>
                  <small>Cek online/offline via ping. Latency & packet loss.</small>
                </div>
              </label>
              <label class="method-card" id="methodHTTP">
                <input type="radio" name="monitorType" value="http">
                <div class="method-icon">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10" />
                    <path d="M2 12h20" />
                    <path
                      d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z" />
                  </svg>
                </div>
                <div class="method-info">
                  <strong>HTTP Website</strong>
                  <small>Monitor website URL. Response time & status code.</small>
                </div>
              </label>
              <label class="method-card" id="methodTCPUDP">
                <input type="radio" name="monitorType" value="tcp_udp">
                <div class="method-icon">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="2" y="3" width="20" height="18" rx="2" />
                    <path d="M7 8h10M7 12h6M7 16h8" />
                  </svg>
                </div>
                <div class="method-info">
                  <strong>TCP / UDP Port</strong>
                  <small>Cek port open/closed. Response time per port.</small>
                </div>
              </label>
              <label class="method-card" id="methodDNS">
                <input type="radio" name="monitorType" value="dns">
                <div class="method-icon">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10" />
                    <path
                      d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z" />
                    <path d="M2 12h20" />
                  </svg>
                </div>
                <div class="method-info">
                  <strong>DNS Monitor</strong>
                  <small>Check DNS Resolution. Response time & Resolved IP.</small>
                </div>
              </label>
            </div>

            <!-- Agent Installation Command -->
            <div class="install-section" id="installSection">
              <h4>Installation Command</h4>
              <p class="install-desc">Run this command on your VPS after registration:</p>
              <div class="code-block">
                <code id="installCommand">Register the server first to get the installation command.</code>
                <button type="button" class="btn-copy" id="btnCopy" title="Copy">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="9" y="9" width="13" height="13" rx="2" />
                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
                  </svg>
                </button>
              </div>
            </div>

            <!-- ICMP Ping Info -->
            <div class="config-section" id="icmpSection" style="display:none">
              <div class="install-desc"
                style="padding:12px 16px;background:rgba(0,255,136,0.06);border:1px solid rgba(0,255,136,0.15);border-radius:8px;color:var(--text-secondary);font-size:13px">
                <strong style="color:var(--text-primary)">üì° ICMP Ping Mode</strong><br>
                Server akan di-ping setiap 30 detik. Monitoring latency, packet loss, dan TTL.
              </div>
            </div>

            <!-- HTTP Config -->
            <div class="config-section" id="httpSection" style="display:none">
              <div class="form-grid" style="margin-top:12px">
                <div class="form-group" style="grid-column:1/-1">
                  <label for="addURL">Website URL <span class="req">*</span></label>
                  <input type="text" id="addURL" placeholder="e.g. https://jakarta.go.id">
                </div>
              </div>
              <div class="install-desc"
                style="padding:12px 16px;margin-top:10px;background:rgba(0,212,255,0.06);border:1px solid rgba(0,212,255,0.15);border-radius:8px;color:var(--text-secondary);font-size:13px">
                <strong style="color:var(--text-primary)">üåê HTTP Monitor</strong><br>
                Website akan dicek setiap 30 detik. Monitoring response time, status code, dan availability.
              </div>
            </div>

            <!-- TCP/UDP Config -->
            <div class="config-section" id="tcpudpSection" style="display:none">
              <div class="form-grid" style="margin-top:12px">
                <div class="form-group">
                  <label for="addPort">Port <span class="req">*</span></label>
                  <input type="number" id="addPort" placeholder="e.g. 443" min="1" max="65535">
                </div>
                <div class="form-group">
                  <label for="addProtocol">Protocol</label>
                  <select id="addProtocol">
                    <option value="tcp">TCP</option>
                    <option value="udp">UDP</option>
                  </select>
                </div>
              </div>
              <div class="install-desc"
                style="padding:12px 16px;margin-top:10px;background:rgba(255,165,2,0.06);border:1px solid rgba(255,165,2,0.15);border-radius:8px;color:var(--text-secondary);font-size:13px">
                <strong style="color:var(--text-primary)">üîå TCP/UDP Port Monitor</strong><br>
                Port akan dicek setiap 30 detik. Monitoring apakah port open/closed dan response time.
              </div>
            </div>

            <!-- DNS Config -->
            <div class="config-section" id="dnsSection" style="display:none">
              <div class="form-grid" style="margin-top:12px">
                <div class="form-group">
                  <label for="addDomain">Lookup Domain <span class="req">*</span></label>
                  <input type="text" id="addDomain" placeholder="e.g. google.com">
                  <small>Domain to resolve using this DNS server.</small>
                </div>
                <div class="form-group">
                  <label for="addRecordType">Record Type</label>
                  <select id="addRecordType">
                    <option value="A">A (IPv4)</option>
                    <option value="AAAA">AAAA (IPv6)</option>
                    <option value="CNAME">CNAME</option>
                    <option value="MX">MX</option>
                    <option value="NS">NS</option>
                    <option value="TXT">TXT</option>
                  </select>
                </div>
              </div>
              <div class="install-desc"
                style="padding:12px 16px;margin-top:10px;background:rgba(155, 89, 182, 0.06);border:1px solid rgba(155, 89, 182, 0.15);border-radius:8px;color:var(--text-secondary);font-size:13px">
                <strong style="color:var(--text-primary)">üîç DNS Monitor</strong><br>
                DNS Resolution akan dicek setiap 30 detik. Monitoring response time dan hasil resolve.
              </div>
            </div>
          </div>

          <div class="form-actions">
            <button type="submit" class="btn-primary">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10" />
                <line x1="12" y1="8" x2="12" y2="16" />
                <line x1="8" y1="12" x2="16" y2="12" />
              </svg>
              Register Server
            </button>
          </div>
        </form>

        <!-- Success Modal -->
        <div class="modal-overlay" id="successModal" style="display:none">
          <div class="modal-content">
            <div class="modal-icon success">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" />
                <polyline points="22 4 12 14.01 9 11.01" />
              </svg>
            </div>
            <h3>Server Registered!</h3>
            <p id="modalMessage">Your server has been successfully registered.</p>
            <div class="code-block" id="modalInstallCommand" style="display:none">
              <code id="modalCode"></code>
            </div>
            <button class="btn-primary"
              onclick="document.getElementById('successModal').style.display='none'">Close</button>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Toast Container -->
  <div class="toast-container" id="toastContainer"></div>

  <script src="/js/charts.js"></script>
  <script src="/js/components.js"></script>
  <script src="/js/app.js"></script>
</body>

</html>